<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title>Website Name</title>
		<meta property="og:title" content="Site Title" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://svok33.github.io/bbb/misc_links/embeddable.html" />
		<meta property="og:image" content="https://svok33.github.io/resources/photos/insects/ant.jpg" />
		<meta property="og:description" content="Site description" />
		<meta name="theme-color" content="#00FF00">
		<script type='text/javascript' src='http://code.jquery.com/jquery-1.8.2.js'></script>
		<script type='text/javascript'>
			function days_between(date1, date2){
				const one_day = 1000*60*60*24;
				return Math.abs(date2-date1)/one_day;
			}
			start = new Date(2022, 1, 7);
			end = new Date(2022, 5, 8);
			today = new Date();
			percentage = 1-(days_between(today, end)/days_between(start, end));
		    // Just replacing the value of the 'content' attribute will not work.
		    $('meta[name=description]').remove();
		    $('head').append( '<meta name="description" content=(Math.floor(percentage*10000))/100+"% done">' );
			$('meta[name=title]').remove();
		    $('head').append( '<meta name="description" content= Math.ceil(days_between(today, end))+" days left!">' );
		</script>
	</head>
	<body>
		Hello, this is a webpage
		<div id="progress-bar" style="width:100%;">
			<canvas id="canvas" title="I'm excited not because there's a paradise ahead, but because I'm leaving a hell behind."></canvas>
		</div>
	</body>
	<script type="text/javascript">
		canvas = document.getElementById('canvas')
		canvas.height = 25;
		canvas.width = document.getElementById('progress-bar').clientWidth;

		function days_between(date1, date2){
			const one_day = 1000*60*60*24;
			return Math.abs(date2-date1)/one_day;
		}

		var c = canvas.getContext('2d');//context
		c.fillStyle = "grey";
		c.fillRect(0, 0, canvas.width, canvas.height);
		start = new Date(2022, 1, 7);
		end = new Date(2022, 5, 8);
		today = new Date();
		//today.setHours(0, 0, 0);
		percentage = 1-(days_between(today, end)/days_between(start, end));
		c.fillStyle = "green";
		c.fillRect(0, 0, canvas.width*percentage, canvas.height);
		meta_tags = document.getElementsByTagName('meta')
		meta_tags[1].content = Math.ceil(days_between(today, end))+' days left!';
		meta_tags[5].content = (Math.floor(percentage*10000))/100+'% done';
	</script>
</html>
